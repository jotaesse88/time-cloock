<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Admin - Frequência</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>

<body onload="startAdminPage()" class="bg-light">

<!-- NAVBAR -->
<nav class="navbar navbar-dark bg-dark px-3">
    <span class="navbar-brand fw-bold">Painel Administrativo</span>
    <a href="home.html" class="btn btn-outline-light">Voltar</a>
</nav>

<!-- BOTÃO VISIVEL APENAS PARA ADMIN -->
<div class="container mt-4">
    <button id="btnGerenciarUsuarios" class="btn btn-warning w-100 mb-3" style="display:none;">
        Gerenciar Usuários
    </button>
</div>

<!-- CONTEÚDO PRINCIPAL -->
<div class="container mt-4">

    <div class="d-flex justify-content-between align-items-center mb-3">
        <h3 class="fw-bold">Lista de Presenças</h3>
        <button class="btn btn-success" onclick="carregarTodasPresencas()">Atualizar</button>
    </div>

    <!-- FILTROS -->
    <div class="card shadow p-4 mb-5">
        <div class="row g-3">
            <div class="col-md-4">
                <label class="form-label">Filtrar por Email:</label>
                <input id="filtroEmail" class="form-control" placeholder="ex: maria@email.com">
            </div>

            <div class="col-md-3">
                <label class="form-label">Tipo:</label>
                <select id="filtroTipo" class="form-control">
                    <option value="">Todos</option>
                    <option value="entrada">Entrada</option>
                    <option value="saida">Saída</option>
                </select>
            </div>

            <div class="col-md-3">
                <label class="form-label">&nbsp;</label>
                <button class="btn btn-primary w-100" onclick="aplicarFiltros()">Aplicar Filtros</button>
            </div>

            <div class="col-md-2">
                <label class="form-label">&nbsp;</label>
                <button class="btn btn-warning w-100" onclick="exportarCSV()">Exportar CSV</button>
            </div>
        </div>
    </div>

    <!-- TABELA -->
    <div class="card shadow p-3">
        <table class="table table-striped table-bordered mb-0">
            <thead class="table-dark">
                <tr>
                    <th>Email</th>
                    <th>Tipo</th>
                    <th>Horário</th>
                </tr>
            </thead>
            <tbody id="tabelaPresencas"></tbody>
        </table>
    </div>

</div>

<!-- SCRIPTS BOOTSTRAP -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<!-- PROTEÇÃO & ADMIN -->
<script src="admin.js"></script>

<!-- MODAL DE CONFIRMAÇÃO -->
<div class="modal fade" id="confirmModal" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content shadow-lg">
      <div class="modal-header bg-warning text-white">
        <h5 class="modal-title" id="modalTitle">Confirmação</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>

      <div class="modal-body" id="modalBody"></div>

      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button type="button" id="confirmActionBtn" class="btn btn-danger">Confirmar</button>
      </div>
    </div>
  </div>
</div>

</body>
</html>
